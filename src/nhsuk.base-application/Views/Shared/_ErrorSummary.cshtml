<div class="nhsuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1">
    <h2 class="nhsuk-error-summary__title" id="error-summary-title">
        There is a problem
    </h2>
    <div class="nhsuk-error-summary__body">
        <ul class="nhsuk-list nhsuk-error-summary__list">
            @foreach (var (key, error) in ViewData.ModelState
                .OrderBy(kvp => kvp.Key)
                .SelectMany(kvp => kvp.Value.Errors.Select(e => (kvp.Key, Error: e))))
            {
                <li>
                    <a href="#@key">@error.ErrorMessage</a>
                </li>
            }
        </ul>
    </div>
</div>